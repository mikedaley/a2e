[
    {
        "label": "CMake: Configure (Debug)",
        "command": "cmake",
        "args": [
            "-B",
            "build",
            "-S",
            ".",
            "-DCMAKE_BUILD_TYPE=Debug",
            "-DCMAKE_EXPORT_COMPILE_COMMANDS=ON",
        ],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": false,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "CMake: Configure (Release)",
        "command": "cmake",
        "args": [
            "-B",
            "build",
            "-S",
            ".",
            "-DCMAKE_BUILD_TYPE=Release",
            "-DCMAKE_EXPORT_COMPILE_COMMANDS=ON",
        ],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": false,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "CMake: Build All",
        "command": "cmake",
        "args": ["--build", "build", "--parallel"],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": false,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "CMake: Build a2e",
        "command": "cmake",
        "args": ["--build", "build", "--target", "a2e", "--parallel"],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": false,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "CMake: Build rom_execution_test",
        "command": "cmake",
        "args": [
            "--build",
            "build",
            "--target",
            "rom_execution_test",
            "--parallel",
        ],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": false,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "CMake: Build keyboard_io_test",
        "command": "cmake",
        "args": [
            "--build",
            "build",
            "--target",
            "keyboard_io_test",
            "--parallel",
        ],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": false,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "CMake: Build pc_stuck_diagnostic",
        "command": "cmake",
        "args": [
            "--build",
            "build",
            "--target",
            "pc_stuck_diagnostic",
            "--parallel",
        ],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": false,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "CMake: Clean",
        "command": "cmake",
        "args": ["--build", "build", "--target", "clean"],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": false,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "CMake: Rebuild All",
        "command": "cmake",
        "args": ["--build", "build", "--clean-first", "--parallel"],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": false,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "Build and Run: a2e",
        "command": "bash",
        "args": [
            "-c",
            "cmake --build build --target a2e --parallel && ./build/bin/a2e",
        ],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": true,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "Run: a2e",
        "command": "./build/bin/a2e",
        "args": [],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": true,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "Run: rom_execution_test",
        "command": "./build/bin/rom_execution_test",
        "args": [],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": true,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "Run: keyboard_io_test",
        "command": "./build/bin/keyboard_io_test",
        "args": [],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": true,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
    {
        "label": "Run: pc_stuck_diagnostic",
        "command": "./build/bin/pc_stuck_diagnostic",
        "args": [],
        "cwd": "$ZED_WORKTREE_ROOT",
        "use_new_terminal": true,
        "allow_concurrent_runs": false,
        "reveal": "always",
    },
]
